<!DOCTYPE html>
<html lang="en">

<head>
  <title>Heaven'sDoor - Free Bootstrap 4 Template by Colorlib</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:200,300,400,600,700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
  <link rel="stylesheet" href="css/animate.css">

  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">
  <link rel="stylesheet" href="css/magnific-popup.css">

  <link rel="stylesheet" href="css/aos.css">

  <link rel="stylesheet" href="css/ionicons.min.css">

  <link rel="stylesheet" href="css/bootstrap-datepicker.css">
  <link rel="stylesheet" href="css/jquery.timepicker.css">


  <link rel="stylesheet" href="css/flaticon.css">
  <link rel="stylesheet" href="css/icomoon.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
    <div class="container">
      <a class="navbar-brand" href="index.html">Heaven's<span>Door</span></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
        aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="oi oi-menu"></span> Menu
      </button>

      <div class="collapse navbar-collapse" id="ftco-nav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
          <li class="nav-item active"><a href="rooms.html" class="nav-link">Our Rooms</a></li>
          <li class="nav-item"><a href="restaurant.html" class="nav-link">Restaurant</a></li>
          <li class="nav-item"><a href="about.html" class="nav-link">About Us</a></li>
          <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- END nav -->
  <div class="hero-wrap" style="background-image: url('images/bg_3.jpg');">
    <div class="overlay"></div>
    <div class="container">
      <div class="row no-gutters slider-text d-flex align-itemd-center justify-content-center">
        <div class="col-md-9 ftco-animate text-center d-flex align-items-end justify-content-center">
          <div class="text">
            <p class="breadcrumbs mb-2"><span class="mr-2"><a href="index.html">Home</a></span> <span class="mr-2"><a
                  href="rooms.html">Rooms</a></span> <span>Rooms Single</span></p>
            <h1 class="mb-4 bread">Rooms Details</h1>
          </div>
        </div>
      </div>
    </div>
  </div>

  <section class="ftco-section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="row">
            <div class="col-md-12 ftco-animate">
              <div class="single-slider owl-carousel">
                <div class="item">
                  <div class="room-img" style="background-image: url(room_images/superior1.png);"></div>
                </div>
                <div class="item">
                  <div class="room-img" style="background-image: url(room_images/superior2.png);"></div>
                </div>
                <div class="item">
                  <div class="room-img" style="background-image: url(room_images/superior3.png);"></div>
                </div>
              </div>
            </div>
            <div class="col-md-12 room-single mt-4 mb-5 ftco-animate">
              <h2 class="mb-4">Superior Room</h2>
              <p>The Superior Room is a practical and well-maintained option designed for guests who need a clean, comfortable, and functional space. 
                Ideal for short stays or budget-conscious travelers, this room delivers essential amenities without compromising comfort.</p>
              <div class="d-md-flex mt-5 mb-3">
  <ul class="list">
    <li><span>Max:</span> 2 adults</li>
    <li><span>Size:</span> 24 m²</li>
  </ul>
  <ul class="list ml-md-5">
    <li><span>View:</span> Beach View</li>
    <li><span>Bed:</span> 1 Double Bed</li>
  </ul>
</div>

<button 
  type="button" 
  class="btn btn-outline-primary"
  data-toggle="modal"
  data-target="#superiorRoomFacilities">
  View Full Facilities
</button>

            </div>
      
           <div class="col-md-12 room-single ftco-animate mb-5 mt-4">
              <h3 class="mb-4">Take A Tour</h3>
              <div class="block-16">
                <figure>
                  <video width="100%" height="600" controls autoplay loop muted playsinline preload="metadata" poster="images/king1.png">
                    <source src="room_images/superiortour.mp4" type="video/mp4">
                    <source src="room_images/superiortour.mp4" type="video/webm">
                    Your browser does not support the video tag.
                  </video>
                </figure>
              </div>
            </div>
            <div class="col-md-12 text-center ftco-animate">
                <p><a href="#" data-toggle="modal" data-target="#bookingModal" data-room="Superior Room"
                  class="px-5 py-4 btn btn-primary rounded">Book Now</a></p>
            </div>

          
  <!-- Booking Modal -->
  <div class="modal fade" id="bookingModal" tabindex="-1" role="dialog" aria-labelledby="bookingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <form id="bookingForm" novalidate>
          <div class="modal-header">
            <h5 class="modal-title" id="bookingModalLabel">Book Room</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-row">
                <div class="form-group col-md-12">
                <label for="bookingRoom">Room</label>
                <input type="text" class="form-control" id="bookingRoom" name="room" readonly>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="guestName">Full name</label>
                <input type="text" class="form-control" id="guestName" name="name" required>
              </div>
              <div class="form-group col-md-6">
                <label for="guestEmail">Email</label>
                <input type="email" class="form-control" id="guestEmail" name="email" required>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="guestPhone">Phone</label>
                <input type="tel" class="form-control" id="guestPhone" name="phone" required>
              </div>
              <div class="form-group col-md-3">
                <label for="checkIn">Check-in</label>
                <input type="text" class="form-control datepicker" id="checkIn" name="checkin" required autocomplete="off">
              </div>
              <div class="form-group col-md-3">
                <label for="checkOut">Check-out</label>
                <input type="text" class="form-control datepicker" id="checkOut" name="checkout" required autocomplete="off">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-4">
                <label for="adults">Adults</label>
                <select class="form-control" id="adults" name="adults">
                  <option>1</option><option>2</option>
                </select>
              </div>
              <div class="form-group col-md-4">
                <label for="children">Children</label>
                <select class="form-control" id="children" name="children">
                  <option>0</option>
                </select>
              </div>
              <div class="form-group col-md-4">
                <label for="promo">Promo code (optional)</label>
                <input type="text" class="form-control" id="promo" name="promo">
              </div>
            </div>
            <div class="form-group">
              <label for="message">Special requests</label>
              <textarea class="form-control" id="message" name="message" rows="3"></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary">Submit Reservation</button>
          </div>
        </form>
      </div>
    </div>
  </div>

<div class="modal fade" id="superiorRoomFacilities" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Superior Room – Full Facilities</h5>
        <button type="button" class="close" data-dismiss="modal">
          <span>&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <ul class="list-unstyled">
          <li> Double bed</li>
          <li> Private bathroom with standard shower</li>
          <li> Flat-screen TV</li>
          <li> Free Wi-Fi</li>
          <li> Air conditioning</li>
          <li> Small wardrobe or hanging space</li>
          <li> Basic bathroom amenities</li>
          <li> Daily housekeeping service</li>
        </ul>
      </div>

    </div>
  </div>
</div>


          </div>
        </div>
      </div>
    </div>
  </section> 


  <footer class="ftco-footer ftco-section img" style="background-image: url(images/bg_4.jpg);">
		<div class="overlay"></div>
		<div class="container">
			<div class="row mb-5">
				<div class="col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">Heaven's Door</h2>
						<p>Heaven's Door is a refined beachside retreat where ocean horizons, quiet luxury, and thoughtful service meet.</p>
						<ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
							<li class="ftco-animate"><a href="#"><span class="icon-twitter"></span></a></li>
							<li class="ftco-animate"><a href="#"><span class="icon-facebook"></span></a></li>
							<li class="ftco-animate"><a href="https://www.instagram.com/heavensdoorhotel35/"><span class="icon-instagram"></span></a></li>
						</ul>
					</div>
				</div>
				<div class="col-md">
					<div class="ftco-footer-widget mb-4 ml-md-5">
						<h2 class="ftco-heading-2">Useful Links</h2>
						<ul class="list-unstyled">
							<li><a href="rooms.html" class="py-2 d-block">Rooms</a></li>
							<li><a href="#" class="py-2 d-block">Amenities</a></li>
							<li><a href="#" class="py-2 d-block">Gift Card</a></li>
						</ul>
					</div>
				</div>
				<div class="col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">Privacy</h2>
						<ul class="list-unstyled">
							<li><a href="#" class="py-2 d-block">Career</a></li>
							<li><a href="about.html" class="py-2 d-block">About Us</a></li>
							<li><a href="contact.html" class="py-2 d-block">Contact Us</a></li>
							<li><a href="#" class="py-2 d-block">Services</a></li>
						</ul>
					</div>
				</div>
				<div class="col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">Have a Questions?</h2>
						<div class="block-23 mb-3">
							<ul>
								<li><span class="icon icon-map-marker"></span><span class="text">Jl. Pantai Surga No. 88
									Desa Samudra Indah, Kec. Pesisir Selatan
									Kab. Lombok Barat, Nusa Tenggara Barat 83355
										Indonesia</span></li>
								<li><a href="#"><span class="icon icon-phone"></span><span class="text">087-755-762-097</span></a></li>
								<li><a href="#"><span class="icon icon-envelope"></span><span
											class="text">heavenshoteldoor@gmail.com</span></a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12 text-center">

					<p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						Copyright &copy;
						<script>document.write(new Date().getFullYear());</script> All rights reserved | This template
						is made with <i class="icon-heart color-danger" aria-hidden="true"></i> by <a
							href="https://colorlib.com" target="_blank">Colorlib</a>
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
					</p>
				</div>
			</div>
		</div>
	</footer>




  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
      <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
      <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
        stroke="#F96D00" />
    </svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>


  <script>
    (function($){
      $(function(){
        var $checkIn = $('#checkIn'), $checkOut = $('#checkOut');
        // init datepickers
        $('.datepicker').datepicker({format:'mm/dd/yyyy', startDate: '0d', autoclose: true});
        $checkIn.datepicker('update', $checkIn.val() || null);
        $checkOut.datepicker('update', $checkOut.val() || null);

        // when check-in selected, force check-out to be at least next day
        $checkIn.on('changeDate', function(e){
          var minDate = new Date(e.date.valueOf());
          minDate.setDate(minDate.getDate() + 1); // checkout must be after checkin
          $checkOut.datepicker('setStartDate', minDate);
          // clear checkout if it's before or equal to minDate
          var co = $checkOut.val();
          if (co) {
            var p = co.split('/');
            var coDate = new Date(p[2], p[0]-1, p[1]);
            if (coDate <= minDate) { $checkOut.val(''); }
          }
        });

        // helper to parse mm/dd/yyyy -> Date
        function parseMDY(str){
          if (!str) return null;
          var p = str.split('/');
          return new Date(p[2], p[0]-1, p[1]);
        }

        $('#bookingModal').on('show.bs.modal', function (event) {
          var button = $(event.relatedTarget);
          var room = button.data('room') || button.attr('data-room') || button.attr('data-roomname') || '';
          if (!room) {
            var roomHeading = button.closest('.room-single').find('h2').first().text().trim();
            if (!roomHeading) { roomHeading = button.closest('body').find('h2').first().text().trim(); }
            room = roomHeading || 'Superior Room';
          }
          console.log('Modal show detected. room:', room, 'button:', button[0]);
          $('#bookingRoom').val(room);
          $('#bookingModalLabel').text('Book ' + room);

          // if check-in already selected, ensure checkout startDate is set
          var ciVal = $checkIn.val();
          if (ciVal) {
            var ciDate = parseMDY(ciVal);
            var minCo = new Date(ciDate.valueOf()); minCo.setDate(minCo.getDate()+1);
            $checkOut.datepicker('setStartDate', minCo);
          } else {
            $checkOut.datepicker('setStartDate', new Date()); // default
          }
        });

        $('#bookingModal').on('hidden.bs.modal', function(){
          $('#dateAlert').remove();
        });

        $('#bookingForm').on('submit', function(e){
          e.preventDefault();
          if (!this.checkValidity()) { this.reportValidity(); return; }

          // logical date validation: checkout must be after checkin
          var ci = $checkIn.val(), co = $checkOut.val();
          if (ci && co) {
            var ciDate = parseMDY(ci), coDate = parseMDY(co);
            if (!ciDate || !coDate || coDate <= ciDate) {
              if (!$('#dateAlert').length) {
                $('.modal-body').prepend('<div id="dateAlert" class="alert alert-danger">Check-out must be after check-in.</div>');
              }
              return;
            } else { $('#dateAlert').remove(); }
          }

          // collect form data and send to server
          var roomVal = $('#bookingRoom').val() || $('#bookingModalLabel').text().replace(/^Book\s+/i, '').trim();
          var payload = {
            room: $('#bookingRoom').val(),
            name: $('#guestName').val(),
            email: $('#guestEmail').val(),
            phone: $('#guestPhone').val(),
            checkin: $('#checkIn').val(),
            checkout: $('#checkOut').val(),
            adults: $('#adults').val(),
            children: $('#children').val(),
            promo: $('#promo').val(),
            message: $('#message').val()
          };

          console.log('Booking payload:', payload);

          fetch('http://localhost:3000/api/book', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          })
          .then(function(res){ return res.json(); })
          .then(function(result){
            if (result && result.ok) {
              var html = '<div class="p-4 text-center"><h5>Reservation submitted</h5><p>A confirmation email has been sent to '+payload.email+'</p><button type="button" class="btn btn-primary mt-2" data-dismiss="modal">Close</button></div>';
              $('.modal-content').html(html);
            } else {
              $('.modal-body').prepend('<div class="alert alert-danger">Failed to submit reservation. Please try again later.</div>');
            }
          })
          .catch(function(err){
            console.error(err);
            $('.modal-body').prepend('<div class="alert alert-danger">Failed to submit reservation. Please try again later.</div>');
          });
        });
      });
    })(jQuery);
  </script>

</body>

</html>